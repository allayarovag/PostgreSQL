Настройки по дефолту: tps = 578.935805

```
postgres@PF4TFW5R:/home/allayarovag$  pgbench -c 50 -j 2 -P 10 -T 60 postgres
pgbench (16.6 (Ubuntu 16.6-0ubuntu0.24.04.1))
starting vacuum...end.
progress: 10.0 s, 311.8 tps, lat 156.034 ms stddev 203.660, 0 failed
progress: 20.0 s, 324.1 tps, lat 153.850 ms stddev 188.366, 0 failed
progress: 30.0 s, 389.1 tps, lat 130.175 ms stddev 217.938, 0 failed
progress: 40.0 s, 839.2 tps, lat 59.686 ms stddev 76.873, 0 failed
progress: 50.0 s, 796.7 tps, lat 62.347 ms stddev 83.563, 0 failed
progress: 60.0 s, 807.1 tps, lat 62.414 ms stddev 78.224, 0 failed
transaction type: <builtin: TPC-B (sort of)>
scaling factor: 1
query mode: simple
number of clients: 50
number of threads: 2
maximum number of tries: 1
duration: 60 s
number of transactions actually processed: 34730
number of failed transactions: 0 (0.000%)
latency average = 86.315 ms
latency stddev = 135.368 ms
initial connection time = 71.821 ms
tps = 578.935805 (without initial connection time)
```

Только увеличил shared_buffers до 4гб. tps = 711.736808
```
postgres=# show shared_buffers;
-[ RECORD 1 ]--+------
shared_buffers | 128MB

postgres=# alter system set shared_buffers to '4GB';
ALTER SYSTEM
postgres=#
\q
allayarovag@PF4TFW5R:~$ sudo service postgresql restart

allayarovag@PF4TFW5R:~$ sudo su postgres
postgres@PF4TFW5R:/home/allayarovag$  pgbench -i postgres
dropping old tables...
NOTICE:  table "pgbench_accounts" does not exist, skipping
NOTICE:  table "pgbench_branches" does not exist, skipping
NOTICE:  table "pgbench_history" does not exist, skipping
NOTICE:  table "pgbench_tellers" does not exist, skipping
creating tables...
generating data (client-side)...
100000 of 100000 tuples (100%) done (elapsed 0.06 s, remaining 0.00 s)
vacuuming...
creating primary keys...
done in 0.29 s (drop tables 0.00 s, create tables 0.03 s, client-side generate 0.13 s, vacuum 0.07 s, primary keys 0.06 s).
postgres@PF4TFW5R:/home/allayarovag$  pgbench -c 50 -j 2 -P 10 -T 60 postgres
pgbench (16.6 (Ubuntu 16.6-0ubuntu0.24.04.1))
starting vacuum...end.
progress: 10.0 s, 746.2 tps, lat 65.808 ms stddev 86.813, 0 failed
progress: 20.0 s, 778.9 tps, lat 64.379 ms stddev 83.151, 0 failed
progress: 30.0 s, 735.5 tps, lat 67.909 ms stddev 98.135, 0 failed
progress: 40.0 s, 768.8 tps, lat 64.973 ms stddev 86.686, 0 failed
progress: 50.0 s, 785.5 tps, lat 63.696 ms stddev 87.133, 0 failed
progress: 60.0 s, 456.9 tps, lat 108.107 ms stddev 192.632, 0 failed
transaction type: <builtin: TPC-B (sort of)>
scaling factor: 1
query mode: simple
number of clients: 50
number of threads: 2
maximum number of tries: 1
duration: 60 s
number of transactions actually processed: 42768
number of failed transactions: 0 (0.000%)
latency average = 70.155 ms
latency stddev = 106.072 ms
initial connection time = 71.109 ms
tps = 711.736808 (without initial connection time)
```
Далее меняем рекомендованные параметры:
```
 max_wal_size
--------------
 1GB
```
 max_wal_size меняем на 10

```
 effective_cache_size
----------------------
 4GB 
```

 effective_cache_size меняем на 12GB

-- Запускаем бенч tps = 702.143697

 work_mem
----------
 4MB
меняем на 16 GB, Запускаем бенч tps = 298.276048
меняем на 56MB, по рекомендации с сайта... tps = 634.054733

```
 max_connections
-----------------
 100
```
Оставляем

```
 maintenance_work_mem
----------------------
 64MB
```
Меняем на 1GB, Запускаем бенч tps = 302.569012

````
 wal_buffers
-------------
 16MB
```
Пробуем рекомендуемые параметры с конфигуратора для ERP:
```
-- Generated by PGConfig 3.1.4 (1fe6d98dedcaad1d0a114617cfd08b4fed1d8a01)
-- Memory Configuration
ALTER SYSTEM SET shared_buffers TO '4GB';
ALTER SYSTEM SET effective_cache_size TO '12GB';
ALTER SYSTEM SET work_mem TO '57MB';
ALTER SYSTEM SET maintenance_work_mem TO '819MB';

-- Checkpoint Related Configuration
ALTER SYSTEM SET min_wal_size TO '2GB';
ALTER SYSTEM SET max_wal_size TO '3GB';
ALTER SYSTEM SET checkpoint_completion_target TO '0.9';
ALTER SYSTEM SET wal_buffers TO '-1';

-- Network Related Configuration
ALTER SYSTEM SET listen_addresses TO '*';
ALTER SYSTEM SET max_connections TO '100';

-- Storage Configuration
ALTER SYSTEM SET random_page_cost TO '1.1';
ALTER SYSTEM SET effective_io_concurrency TO '200';

-- Worker Processes Configuration
ALTER SYSTEM SET max_worker_processes TO '8';
ALTER SYSTEM SET max_parallel_workers_per_gather TO '2';
ALTER SYSTEM SET max_parallel_workers TO '2';
```
tps = 500.803261 

